<!DOCTYPE html>
<html>
<head>
<title>cookEZ</title

<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/multiple-select.css" />
	
<script src="js/jquery.min.js"></script>
<script src="js/multiple-select.js"></script>


<!--<link rel="stylesheet" href="jquery.mobile-1.4.2.min.css" />

 
<script src="jquery-1.9.1.min.js"></script>	
 <script src="jquery.mobile-1.4.2.js"></script>	
 <script src="multiple-select.js"></script>	

 <script src="jquery-latest.js"></script>
  <script src="jquery-ui.min.js"></script>-->
<script type="text/javascript" src="cordova.js"></script>

<script>
	var meData;
	var tag1;
	var tag2;
	var tag3;
	var tag4;
	var array1=  new Array();
	var array2=  new Array();
function alertDismissed() {
           alert('ddd');
}	
   $(function() {
        $('#select-multiple-1').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
    });

	 $(function() {
        $('#select-multiple-2').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
    });


$(function() {
        $('#select-multiple-3').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
    });

	 $(function() {
        $('#select-multiple-4').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
    });

	$(function() {
        $('#select-multiple-5').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
    });

	 $(function() {
        $('#select-multiple-6').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
    });



function init() {
    	document.addEventListener("deviceready", onDeviceReady, false);
}
	
function onDeviceReady()
{	
//window.plugins.spinnerDialog.show(null,'Loading Data... Please wait!');
//document.addEventListener("backbutton", function (e) {
//        e.preventDefault(); 
  //  navigator.notification.confirm("Do you want to exit cookEZ?", onConfirmExit, "cookEZ", "Yes,No");
  //  }, false );
}	
	
function onConfirmExit(button) {
if(button==2){ //If User select a No, then return back;
       	return; }
else{
   if (navigator.app) {
     navigator.app.exitApp(); }
   else if (navigator.device) {
     navigator.device.exitApp(); } }	}

	
 
	
 
	
	
function cat1_list(x)
{
   document.getElementById("main_scr").style.display = "none";
   document.getElementById("main_scr").style.visibility="false";
	
    document.getElementById("chk_lst").style.display = "block";
    document.getElementById("chk_lst").style.visibility="true";

    document.getElementById("menu_sec").style.display = "block";
    document.getElementById("menu_sec").style.visibility="true";

    document.getElementById("menu").style.display ="none";
    document.getElementById("menu").style.visibility="false";


	document.getElementById("select_lst").style.display = "none";
    document.getElementById("select_lst").style.visibility="false";
   
if(x=='dairy')
   {
     document.getElementById("sub_lst1").style.display = "block";
     document.getElementById("sub_lst1").style.visibility="true";
	   
     document.getElementById("sub_lst2").style.display = "none";
     document.getElementById("sub_lst2").style.visibility="false";	
	
     document.getElementById("sub_lst3").style.display = "none";
     document.getElementById("sub_lst3").style.visibility="false";	
	  
     document.getElementById("sub_lst4").style.display = "none";
     document.getElementById("sub_lst4").style.visibility="false";	
	   
     document.getElementById("sub_lst5").style.display = "none";
     document.getElementById("sub_lst5").style.visibility="false";	
	   
     document.getElementById("sub_lst6").style.display = "none";
     document.getElementById("sub_lst6").style.visibility="false";	
   }
	
else if(x=='veg')
   {
     document.getElementById("sub_lst2").style.display = "block";
     document.getElementById("sub_lst2").style.visibility="true";
	   
     document.getElementById("sub_lst1").style.display = "none";
     document.getElementById("sub_lst1").style.visibility="false";	
	
     document.getElementById("sub_lst3").style.display = "none";
     document.getElementById("sub_lst3").style.visibility="false";	
	  
     document.getElementById("sub_lst4").style.display = "none";
     document.getElementById("sub_lst4").style.visibility="false";	
	   
     document.getElementById("sub_lst5").style.display = "none";
     document.getElementById("sub_lst5").style.visibility="false";	
	   
     document.getElementById("sub_lst6").style.display = "none";
     document.getElementById("sub_lst6").style.visibility="false";	
     
}
	
	
else if(x=='pulses')
   {
     document.getElementById("sub_lst3").style.display = "block";
     document.getElementById("sub_lst3").style.visibility="true";
	   
     document.getElementById("sub_lst2").style.display = "none";
     document.getElementById("sub_lst2").style.visibility="false";	
	
     document.getElementById("sub_lst1").style.display = "none";
     document.getElementById("sub_lst1").style.visibility="false";	
	  
     document.getElementById("sub_lst4").style.display = "none";
     document.getElementById("sub_lst4").style.visibility="false";	
	   
     document.getElementById("sub_lst5").style.display = "none";
     document.getElementById("sub_lst5").style.visibility="false";	
	   
     document.getElementById("sub_lst6").style.display = "none";
     document.getElementById("sub_lst6").style.visibility="false";	
     
   }
	
	
 else if(x=='bread')
   {
     document.getElementById("sub_lst4").style.display = "block";
     document.getElementById("sub_lst4").style.visibility="true";
	   
     document.getElementById("sub_lst2").style.display = "none";
     document.getElementById("sub_lst2").style.visibility="false";	
	
     document.getElementById("sub_lst3").style.display = "none";
     document.getElementById("sub_lst3").style.visibility="false";	
	  
     document.getElementById("sub_lst1").style.display = "none";
     document.getElementById("sub_lst1").style.visibility="false";	
	   
     document.getElementById("sub_lst5").style.display = "none";
     document.getElementById("sub_lst5").style.visibility="false";	
	   
     document.getElementById("sub_lst6").style.display = "none";
     document.getElementById("sub_lst6").style.visibility="false";	
     
   }
	
 else if(x=='nuts')
   {
     document.getElementById("sub_lst5").style.display = "block";
     document.getElementById("sub_lst5").style.visibility="true";
	   
     document.getElementById("sub_lst2").style.display = "none";
     document.getElementById("sub_lst2").style.visibility="false";	
	
     document.getElementById("sub_lst3").style.display = "none";
     document.getElementById("sub_lst3").style.visibility="false";	
	  
     document.getElementById("sub_lst4").style.display = "none";
     document.getElementById("sub_lst4").style.visibility="false";	
	   
     document.getElementById("sub_lst1").style.display = "none";
     document.getElementById("sub_lst1").style.visibility="false";	
	   
     document.getElementById("sub_lst6").style.display = "none";
     document.getElementById("sub_lst6").style.visibility="false";	
     
   }
	
else if(x=='spices')
   {
     document.getElementById("sub_lst6").style.display = "block";
     document.getElementById("sub_lst6").style.visibility="true";
	   
     document.getElementById("sub_lst2").style.display = "none";
     document.getElementById("sub_lst2").style.visibility="false";	
	
     document.getElementById("sub_lst3").style.display = "none";
     document.getElementById("sub_lst3").style.visibility="false";	
	  
     document.getElementById("sub_lst4").style.display = "none";
     document.getElementById("sub_lst4").style.visibility="false";	
	   
     document.getElementById("sub_lst5").style.display = "none";
     document.getElementById("sub_lst5").style.visibility="false";	
	   
     document.getElementById("sub_lst1").style.display = "none";
     document.getElementById("sub_lst1").style.visibility="false";	
     
   }
}
	var itm_arr=new array();
	var values1;
	var values2;
	var values3;
	var values4;
	var values5;
	var values6;

	function getData(x)
{
	values1 = $('#select-multiple-1').val();
	values2 = $('#select-multiple-2').val();
	values3 = $('#select-multiple-3').val();
	values4 = $('#select-multiple-4').val();
	values5 = $('#select-multiple-5').val();
	values6 = $('#select-multiple-6').val();
	


}

var val_final;
arr1=[];
arr2=[];

function getDataFinal(x)
{
	val_final =  $('#mySelect').val();
	
//  alert(val_final);
}

function finalLst()
{
	//alert(val_final);
	 var params = "ingred=" + val_final; 
	 var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
	  //alert(this.readyState);
    if (this.readyState == 4) {
	 //   alert(this.status);
      if(this.status == 200 || this.status == 0){
      document.getElementById("responsecontainer").innerHTML = this.responseText;
	 //  alert(this.responseText);
      }}};
  xhttp.open("POST", "http://www.writeacademy.in/cookEZ/RecipeMaster.php", true);
  xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  xhttp.send(params);
}

 
	


function chk()
{


	 document.getElementById("main_scr").style.display ="none";
    document.getElementById("main_scr").style.visibility="false";	
		
     document.getElementById("sub_lst1").style.display = "none";
     document.getElementById("sub_lst1").style.visibility="false";
	   
     document.getElementById("sub_lst2").style.display = "none";
     document.getElementById("sub_lst2").style.visibility="false";	
	
     document.getElementById("sub_lst3").style.display = "none";
     document.getElementById("sub_lst3").style.visibility="false";	
	  
     document.getElementById("sub_lst4").style.display = "none";
     document.getElementById("sub_lst4").style.visibility="false";	
	   
     document.getElementById("sub_lst5").style.display = "none";
     document.getElementById("sub_lst5").style.visibility="false";	
	   
     document.getElementById("sub_lst6").style.display = "none";
     document.getElementById("sub_lst6").style.visibility="false";		
	
		
     document.getElementById("select_lst").style.display = "block";
    document.getElementById("select_lst").style.visibility="true";
		
		res1='';
	if (values1 != null) {  res1 += values1+',' ; }
		if (values2 != null) {  res1+= values2+',' ;}
		if (values3 != null) {res1+= values3+',' ;}
	if (values4 != null) {res1+= values4+',' ;}
	if (values5 != null){res1+= values5+',';}
	if (values6 != null) {res1+= values6;}
		 
		
		ret_arr=res1.split(',');
		arr1= remove_duplicates_safe(ret_arr);

	  var exists = false; 
 
     $.each(arr1, function(index, value){ 
		 
	
  if ( $("#mySelect option[value='"+value+"']").length == 0 ){
  // alert("option not exist!");
           value1=value.replace(/_/," ");


  $("#mySelect").append($("<option>",{
    value: value1,
    text: value1
  }));
  }
  if (index == arr1.length-1) {
    $('mySelect').multipleSelect({
      isOpen: true,
      keepOpen: true
    });
  }


})
$('#mySelect').change(function() {
            console.log($(this).val());
        }).multipleSelect({
            width: '100%'
        });
}

 

	
	var res1;
	var ret_arr = [];
 
	function remove_duplicates_safe(arr) {
    var seen = {};
    var sel_arr = [];
    for (var i = 0; i < arr.length; i++) {

		if (arr[i] !== '')  
		{
        if (!(arr[i] in seen)) {

            sel_arr.push(arr[i]);
            seen[arr[i]] = true;
        }
		}
    }
    return sel_arr;

}
	 
function back_chk()
	{
	   document.getElementById("main_scr").style.display = "block";
           document.getElementById("main_scr").style.visibility="true";
	   
	   document.getElementById("sub_lst1").style.display = "none";
           document.getElementById("sub_lst1").style.visibility="false";
		
     	   document.getElementById("sub_lst2").style.display = "none";
           document.getElementById("sub_lst2").style.visibility="false";	
      
	   document.getElementById("sub_lst3").style.display = "none";
           document.getElementById("sub_lst3").style.visibility="false";	
     
           document.getElementById("sub_lst4").style.display = "none";
           document.getElementById("sub_lst4").style.visibility="false";
		
     	   document.getElementById("sub_lst5").style.display = "none";
           document.getElementById("sub_lst5").style.visibility="false";	
      
	   document.getElementById("sub_lst6").style.display = "none";
           document.getElementById("sub_lst6").style.visibility="false";	
     
		
	}
</script>
	
<style type="text/css">
body, html {
    width: 100%;
   
    margin: 0;
    padding: 0;
    
}
		
.btncss {  background-color: transparent; border:none; padding: 0; font-weight: bold; color: white;}
.btn2 {  background-color: transparent; border:none; padding: 0; font-weight: bold; color: black;}
.btn1 {  background-color: transparent; border: none; padding: 0;}
pre {
    overflow: auto;
}
.main_scr {
  
    height: 100%;
  }


.sub_lst1
	{
	display:none;
	}
.sub_lst2
	{
	display:none;
	}
.sub_lst3
	{
	display:none;
	}
.sub_lst4
	{
	display:none;
	}
.sub_lst5
	{
	display:none;
	}
.sub_lst6
	{
	display:none;

	}
	
	.chk_lst
	{
	display:none;
	}
	
	.ven_sec
	{
	display:none;
	}
	.select_lst
	{
	display:none;
	}
	
 .ven
{
width: 100vw;
height: 100% !important;
text-align:center; 
	}
	</style>
	
</head>

<body style="background-color: transparent;" onload='init();'> 
	<div id='menu' class=ven>
	<table bgcolor="#DAD4D3" width='100%' align='center' cellpadding='0' cellspacing='0' > 
		<tr height='40px'><td align='center'><b>cookEZ</b></td></tr></table>
	</div>
	
	<div id='menu_sec' class='ven_sec'>
	<table bgcolor="#DAD4D3" width='100%' align='center' cellpadding='0' cellspacing='0' > 
		<tr height='40px'><td><button onclick='back_chk();' class='btn2'><img src='back.png'></button></td><td align='center'><b>cookEZ</b></td><td><button onclick='displayLst();' class='btn2'><img src='fwd.png'></button></td></tr></table>
	</div>
	
	<div id='main_scr' class='main_scr'>
        <table border="0" height='100%' cellpadding="1" cellspacing="1">
	<tr  ><td width='50%'> <button onclick='cat1_list(this.value);' class='btn2' value='dairy'><img src='dairy.png' style="display:inline; width:90%; height:90%;"></button></td><td  > <button onclick='cat1_list(this.value);' class='btn2' value='veg'><img src='veg.png' style="display:inline; width:90%; height:90%;"></button></td></tr>
	<tr   ><td width='50%' > <button onclick='cat1_list(this.value);' class='btn2' value='pulses'><img src='pulses.png' style="display:inline; width:90%; height:90%;"></button></td><td  > <button onclick='cat1_list(this.value);' class='btn2' value='bread'><img src='bread.png' style="display:inline; width:90%; height:90%;"></button></td></tr>
	<tr   ><td width='50%'> <button onclick='cat1_list(this.value);' class='btn2' value='nuts'><img src='nuts.png' style="display:inline; width:90%; height:90%;"></button></td><td > <button onclick='cat1_list(this.value);' class='btn2' value='spices'><img src='spices.png' style="display:inline; width:90%; height:90%;"></button></td></tr>
		
	
	</table>
	</div>
 <div id='sub_lst1' class="sub_lst1">
        <label>Dairy</label>
        <select id="select-multiple-1" multiple="multiple" onChange="getData(this.value);">
            
	    
        <option value="milk">Milk</option>
		<option value="paneer">Paneer</option>
		<option value="butter">Butter</option>
		<option value="ghee">Ghee</option>
		<option value="curd">Curd</option>
		<option value="Buttermilk">Buttermilk</option>
		<option value="cheese">cheese</option>
        </select>
		 
    </div>


 
		
		
	 
	 <div id='sub_lst2' class="sub_lst2">
        <label>Vegetables</label>
        <select id="select-multiple-2" multiple="multiple" onChange="getData(this.value);">
            
	       		 <option value='capsicum'>Bell Pepper</option>
			<option value='potato'>Potato</option>
		 	<option value='brinjal'>Brinjal</option>
			<option value='onion'>Onion</option>
			<option value='tomato'>Tomato</option>
			<option value='cabbage'>Cabbage</option>
			<option value='carrot'>Carrots</option>
			<option value='lettuce'>Lettuce</option>
			<option value='spinach'>Spinach</option>
			<option value='celery'>Celery</option>
			<option value='asparagus'>Asparagus</option>
        </select>
		 
    </div>

	
	
	 


	

	 <div id='sub_lst3' class="sub_lst3">
        <label>Grocery - Rice/Pulses</label>
        <select id="select-multiple-3" multiple="multiple" onChange="getData(this.value);">
            
	        	<option value='boiled_rice'>Boiled Rice </option>
			<option value='raw_rice'>Raw Rice </option>
			<option value='urad'>Urad </option>
			<option value='mung'>Mung (Green Gram)</option>
			<option value='thur'>Thur (Pigeon peas)</option>
			<option value='chickpea'>Chickpeas</option>
			<option value='masoor'>Masoor Dal</option>
			<option value='Black_peas'>Black-Eyed Peas</option>
			<option value='pea'>Pea</option>
			<option value='kidney'>Kidney Beans</option>
		    <option value='coconut'>Coconut</option>
        </select>
		 
    </div>



 


	
	  <div id='sub_lst4' class="sub_lst4">
        <label>Flour/Bread</label>
        <select id="select-multiple-4" multiple="multiple" onChange="getData(this.value);">
            
	<option value='Wheat_Flour'>Wheat Flour</option>
 <option value='maida'>Maida</option>
 <option value='rava'>Rava</option>
 <option value='Semiya'>Semiya (Vermicelli)</option>
 <option value='bread'>Bread</option>
 <option value='bun'>Bun</option>
 <option value='rice_flour'>Rice Flour</option>
  <option value='urad_flour'>Urad Flour</option>
	<option value='besan_flour'>Besan Flour</option>	
		<option value='Moong_flour'>Moong flour</option>	
        </select>
		 
    </div>


 
		
	
 
	
	
	
	  <div id='sub_lst5' class="sub_lst5">
        <label>Nuts</label>
        <select id="select-multiple-5" multiple="multiple" onChange="getData(this.value);">
            
		<option value='cashew'>Cashew Nuts</option>
 <option value='Badam'>Badam</option>
 <option value='pista'>Pista</option>
 <option value='cardamon'>Cardamom</option>
 <option value='hazel'>Hazelnuts</option>
 <option value='peanut'>Peanuts</option>
 <option value='walnut'>Walnuts</option>
  <option value='raisin'>Raisins</option>
        </select>
		 
    </div>





	  <div id='sub_lst6' class="sub_lst6">
        <label>Spices</label>
        <select id="select-multiple-6" multiple="multiple" onChange="getData(this.value);">
            <option value='Basil'>Basil</option>
<option value='Black_Pepper'>Black Pepper</option>
<option value='Peppercorn'>Peppercorn</option>
<option value='Caraway_Seed'>Caraway Seed</option>
<option value='Celery_Flakes'>Celery Flakes</option>
<option value='Celery_Seed'>Celery Seed</option>
<option value='Chilli_Powder'>Chilli Powder</option>
<option value='Cilantro_Leaves'>Cilantro Leaves</option>
<option value='Cinnamon'>Cinnamon</option>
<option value='Cloves'>Cloves</option>
<option value='Cumin'>Cumin</option>
        </select>
		 
    </div>
 
	
<table id='chk_lst' class='chk_lst'>	
	<tr bordercolor='ffffff'><td style="height:10%;"  align='center'><font face=arial><b><button onclick='chk();'> Check Selected Items</button></b></font></td>&nbsp;<td style="height:10%;"   align='center'><font face=arial><b><button onclick='finalLst();'> Get Recipes</button></b></font></td></tr></table>
	<!--	<button onclick='getData11();'> Display</button>-->
	
	
	<div id='select_lst' class='select_lst'>
<div class="ui-field-contain">
    <label for="mySelect">Check the Items</label>
	  <select id="mySelect"  multiple="multiple" onChange="getDataFinal(this.value);">
    
	 </select>
<!--	<select id='mySelect'></select>-->
</div>

</div>	 
	<div id='responsecontainer'>
	</div>
	</body>
</html>
<!---<img src="geo_test.jpg" id="img1" width='50%' height='50%' />
<pre>Make and model: <span id="makeAndModel"></span></pre>
<br/>
<br/>-->
<!--<img src="geo_test.jpg" id="img2" width='50%' height='50%' />
<pre id="allMetaDataSpan"></pre>
<br/>
<textarea id='txtAreaSpan' rows='8' cols=90 readonly=true ></textarea>
<textarea id='tg2' rows='2' cols=90 readonly=true ></textarea>-->
	

